\section{formulas}
\subsection{Geometry}
\begin{itemize}
\item Lattice points on line: gcd(dx,dy) + 1
\item Pick's theorem: $A = I + \frac{B}{2} - 1$
\item sine rule: $\frac{A}{sin(a)} = \frac{B}{sin(b)} = \frac{C}{sin(c)}$
\item cosine rule: $C^2=A^2+B^2-2AB \times cos(c)$
\item Dot product = $|A| |B| \times cos(a)$
\item Cross product = $|A| |B| \times sin(a)$
\item Rotation around axis: $R = (cos(a) \times Id + sin(a) \times cross U + (1 - cos(a)) \times outer U)$
\item Angle of regular polygon = $\frac{180 \times (n-2)}{n}$
\item \# Diagonals of regular polygon = $\frac{n (n-3)}{n}$
\item Triangulation of n-gon = Catalan (n-2)
\end{itemize}
\hrulefill
\subsection{Area}
\begin{itemize}
\item triangle = $\frac{B \times H}{2}$
\item triangle = $\sqrt(S \times (S-A) \times (S-B) \times (S-C))$, S = PERIMETER/2
\item triangle = $r \times S$, r = radius of inscribed circle
\item circle = $R^2 \times \pi$
\item ellipse = $\pi \times r_1 \times r_2$
\item sector = $\frac{(r^2 \times a)}{2}$
\item circular cap = $\frac{R^2 \times (a-sin(a))}{2}$
\item trapzoid = $\frac{(B1 + B2)}{2} \times H$
\item prsim = $perimeter(B) L + 2 area(B)$
\item sphere = $4 \pi r^2$
\end{itemize}
\hrulefill
\subsection{Volume}
\begin{itemize}
\item Right circular cylinder = $\pi r^2 h$ 
\item Pyramid = $\frac{Bh}{3}$
\item Right circular cone = $\frac{\pi r^2 h}{3}$
\item Sphere = $\frac{4}{3} \pi r^2 h$
\item Sphere sector= $\frac{2}{3} \pi r^2h = \frac{2}{3} \pi r^3 (1-cos(a))$
\item Sphere cap = $\frac{\pi h^2 (3r-h)}{3}$
\end{itemize}
\hrulefill
\subsection{Combinatorics}
\begin{itemize}
\item Cayley formula: number of forest with k trees where first k nodes belongs to different trees = $k n^{n-k-1}$ . Multinomial theorem for trees of given degree sequence ${\binom{n}{d_i}}$
\item Prufer sequence (M5da calls it parent array)
\item  K-Cyclic permutation = ${\binom{n}{k}} \times (k-1)!$
\item Stirling numbers $S(n,k) = k \times S(n-1,k) + S(n,k-1)$ number of way to partition n in k sets.
\item Bell number $B_n = \sum_1^n (n-1, k) B_k$ 
\item Arithmetic-geometric-progression $S_n = \frac{A_1 \times G_1 - A_{n+1} \times G_{n+1}}{1-r} + \frac{dr}{(1-r)^2} \times (G_1-G_{n+1})$
\end{itemize}
\hrulefill
\subsection{Graph Theory}
\begin{itemize}
\item Graph realization problem: sorted decreasing degrees: $\sum_1^k d_i = k(k-1)+sum_(k+1)^n \min(d_i,k)$ (first k form clique and all other nodes are connected to them).
\item Euler formula: $v+f = e+c+1$
\item \# perfect matching in bipartite graph, $DP[S][j] = DP[S][j-1] + DP[S/{v}][j-1]$ for all v connected to the j node.
\end{itemize}
\hrulefill
\subsection{Max flow with lower bound}
\begin{itemize}
\item feasible flow in a network with both upper and lower capacity constraints, no source or sink: capacities are changed to upper bound - lower bound. Add a new source and a sink. let M[v] = (sum of lower bounds of ingoing edges to v) - (sum of lower bounds of outgoing edges from v). For all v, if M[v]>0 then add edge (S,v) with capacity M, otherwise add (v,T) with capacity -M. If all outgoing edges from S are full, then a feasible flow exists, it is the flow plus the original lower bounds.
\item maximum flow in a network with both upper and lower capacity constraints, with source s and sink t: add edge (t,s) with capacity infinity. Binary search for the lower bound, check whether a feasible exists for a network WITHOUT source or sink (B).
\end{itemize}
\hrulefill
\subsection{Sum of floor function}
\raggedbottom\begin{lstlisting}[style=txt]
Algorithm:
    t = GCD(p, q)
    p = p/t
    q = q/t
    s = 0
    z = 1
    while (q > 0) and (n > 0)
      (point A)
      t = [p/q]
      s = s + ztn(n+1)/2
      p = p - qt
      (point B)
      t = [n/q]
      s = s + zp(n+1)-zt(pqt +p+q-1)/2
      n = n - qt
      (point C)
      t = [np/q]
      s = s + ztn
      n = t
      swap p and q
      z = -z
\end{lstlisting}
\hrulefill
\subsection{Joseph problem}
${\displaystyle g(n,k)={\begin{cases}
 0 & {\text{if }}n=1\\
 (g(n-1,k)+k){\bmod {n}}&{\text{if }} 1<n<k\\
 \left\lfloor {\frac {k((g(n',k)-n{\bmod {k}}){\bmod {n}}')}{k-1}}\right\rfloor {\text{where }}n'=n-\left\lfloor {\frac {n}{k}}\right\rfloor &{\text{if }}k\leq n\\
 \end{cases}}}$\\
\hrulefill